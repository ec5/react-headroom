// Generated by CoffeeScript 1.8.0
module.exports = function(lastKnownScrollY, currentScrollY, props, state) {
  var distanceScrolled, scrollDirection, _ref, _ref1, _ref2;
  if (lastKnownScrollY == null) {
    lastKnownScrollY = 0;
  }
  if (currentScrollY == null) {
    currentScrollY = 0;
  }
  if (props == null) {
    props = {};
  }
  if (state == null) {
    state = {};
  }
  scrollDirection = currentScrollY >= lastKnownScrollY ? "down" : "up";
  distanceScrolled = Math.abs(currentScrollY - lastKnownScrollY);
  if (currentScrollY <= 0 && state.state !== "unfixed") {
    return {
      action: "unfix",
      scrollDirection: scrollDirection,
      distanceScrolled: distanceScrolled
    };
  } else if (currentScrollY <= state.height && scrollDirection === "down" && state.state === "unfixed") {
    return {
      action: "none",
      scrollDirection: scrollDirection,
      distanceScrolled: distanceScrolled
    };
  } else if (scrollDirection === "down" && ((_ref = state.state) === "pinned" || _ref === "unfixed") && currentScrollY > state.height && distanceScrolled > props.downTolerance) {
    return {
      action: "unpin",
      scrollDirection: scrollDirection,
      distanceScrolled: distanceScrolled
    };
  } else if (scrollDirection === "up" && distanceScrolled > props.upTolerance && ((_ref1 = state.state) !== "pinned" && _ref1 !== "unfixed")) {
    return {
      action: "pin",
      scrollDirection: scrollDirection,
      distanceScrolled: distanceScrolled
    };
  } else if (scrollDirection === "up" && currentScrollY <= state.height && ((_ref2 = state.state) !== "pinned" && _ref2 !== "unfixed")) {
    return {
      action: "pin",
      scrollDirection: scrollDirection,
      distanceScrolled: distanceScrolled
    };
  } else {
    return {
      action: "none",
      scrollDirection: scrollDirection,
      distanceScrolled: distanceScrolled
    };
  }
};
